(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{225:function(t,e,n){var content=n(230);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("3f31d752",content,!0,{sourceMap:!1})},227:function(t,e,n){"use strict";n(57),n(76);var r={name:"Button",props:{type:{type:String,default:"primary",validator:function(t){return["primary","secondary"].includes(t)}},loading:{type:Boolean,default:!1}}},o=(n(229),n(17)),component=Object(o.a)(r,(function(){var t,e=this.$createElement,r=this._self._c||e;return r("button",this._g({class:(t={},t[this.type]=!0,t.loading=this.loading,t)},this.$listeners),[r("transition",{attrs:{name:"fade"}},[this.loading?r("img",{attrs:{src:n(228)}}):r("span",[this._t("default")],2)])],1)}),[],!1,null,"73db253f",null);e.a=component.exports},228:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIyOHB4IiBoZWlnaHQ9IjI4cHgiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48cGF0aCBkPSJNNjQgOS43NUE1NC4yNSA1NC4yNSAwIDAgMCA5Ljc1IDY0SDBhNjQgNjQgMCAwIDEgMTI4IDBoLTkuNzVBNTQuMjUgNTQuMjUgMCAwIDAgNjQgOS43NXoiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIvPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiBmcm9tPSIwIDY0IDY0IiB0bz0iMzYwIDY0IDY0IiBkdXI9IjEyMDBtcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L2c+PC9zdmc+"},229:function(t,e,n){"use strict";var r=n(225);n.n(r).a},230:function(t,e,n){(e=n(43)(!1)).push([t.i,"button[data-v-73db253f]{min-width:120px;height:40px;padding-left:2rem;padding-right:2rem;position:relative;border-radius:.375rem;--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity));outline:0;transition-property:all;transition-duration:75ms;transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}button.primary[data-v-73db253f]{--bg-opacity:1;background-color:#5f9fff;background-color:rgba(95,159,255,var(--bg-opacity))}button.primary[data-v-73db253f]:hover{background-color:#2778f3}button.primary[data-v-73db253f]:active{box-shadow:0 4px 4px rgba(0,0,0,.25)}button.secondary[data-v-73db253f]{--bg-opacity:1;background-color:#e2e2e2;background-color:rgba(226,226,226,var(--bg-opacity))}button.secondary[data-v-73db253f]:hover{--bg-opacity:1;background-color:#d4d4d4;background-color:rgba(212,212,212,var(--bg-opacity))}button.secondary[data-v-73db253f]:active{--bg-opacity:1;background-color:#5f9fff;background-color:rgba(95,159,255,var(--bg-opacity))}button.loading[data-v-73db253f]{pointer-events:none}button img[data-v-73db253f]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}",""]),t.exports=e},248:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4NCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGVsbGlwc2UgY3g9IjQyIiBjeT0iNDAiIHJ4PSI0MS4zNzkzIiByeT0iNDAiIGZpbGw9IiM1RjlGRkYiLz4KPHBhdGggZD0iTTI3LjI1NiA1OC4zMjc4VjIxLjQ2OTZDMjcuMjU2IDE4LjQyOSAzMC41MTQ0IDE2LjUwMDIgMzMuMTgwMSAxNy45NjI4TDY1Ljc2MzIgMzUuODQwMUM2OC40OTA3IDM3LjMzNjYgNjguNTQwOCA0MS4yMzcyIDY1Ljg1MjUgNDIuODAzMkwzMy4yNjk1IDYxLjc4NDFDMzAuNjAyOCA2My4zMzc1IDI3LjI1NiA2MS40MTM5IDI3LjI1NiA1OC4zMjc4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg=="},249:function(t,e,n){var r=n(5);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},252:function(t,e,n){var content=n(277);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("662efd7d",content,!0,{sourceMap:!1})},253:function(t,e,n){var content=n(281);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("a597c542",content,!0,{sourceMap:!1})},254:function(t,e,n){var content=n(283);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("476cf51c",content,!0,{sourceMap:!1})},255:function(t,e,n){var content=n(285);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(44).default)("0972696a",content,!0,{sourceMap:!1})},276:function(t,e,n){"use strict";var r=n(252);n.n(r).a},277:function(t,e,n){(e=n(43)(!1)).push([t.i,".title[data-v-4361989f]{font-weight:600;font-size:48px;line-height:57px;color:#000;margin-bottom:40px;word-break:break-word}.answer[data-v-4361989f]{background:#e2e2e2;border-radius:6px;font-size:26px;line-height:31px;color:#000;padding:1rem;cursor:pointer}.answer.selected[data-v-4361989f]{background:#5f9fff}",""]),t.exports=e},278:function(t,e,n){var r=n(5),o=n(279)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},279:function(t,e,n){var r=n(9),o=n(36),c=n(26),l=n(58).f;t.exports=function(t){return function(e){for(var n,d=c(e),f=o(d),v=f.length,i=0,h=[];v>i;)n=f[i++],r&&!l.call(d,n)||h.push(t?[n,d[n]]:d[n]);return h}}},280:function(t,e,n){"use strict";var r=n(253);n.n(r).a},281:function(t,e,n){(e=n(43)(!1)).push([t.i,".title[data-v-7d5f1070]{font-weight:600;font-size:48px;line-height:57px;color:#000;margin-bottom:40px;word-break:break-word}.option[data-v-7d5f1070]{padding:1rem;pointer-events:none;background:#e2e2e2;border-radius:6px}.option[data-v-7d5f1070],select[data-v-7d5f1070]{font-size:26px;line-height:31px;color:#000}select[data-v-7d5f1070]{-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;border:2px solid #000;box-sizing:border-box;border-radius:6px;//height:64px;padding:14px 16px}",""]),t.exports=e},282:function(t,e,n){"use strict";var r=n(254);n.n(r).a},283:function(t,e,n){(e=n(43)(!1)).push([t.i,".title[data-v-c1eca6ae]{font-weight:600;font-size:48px;line-height:57px;color:#000;margin-bottom:40px;word-break:break-word}textarea[data-v-c1eca6ae]{background:#e2e2e2;border-radius:6px;font-size:26px;line-height:31px;color:#000;resize:none;width:100%;padding:16px;height:184px;outline:none}textarea[data-v-c1eca6ae]::-moz-placeholder{color:#000}textarea[data-v-c1eca6ae]:-ms-input-placeholder{color:#000}textarea[data-v-c1eca6ae]::-ms-input-placeholder{color:#000}textarea[data-v-c1eca6ae]::placeholder{color:#000}",""]),t.exports=e},284:function(t,e,n){"use strict";var r=n(255);n.n(r).a},285:function(t,e,n){(e=n(43)(!1)).push([t.i,".test-wrapper[data-v-7ca84680]{display:flex;flex-direction:column;box-shadow:0 4px 4px rgba(0,0,0,.25);margin-bottom:140px}.test-wrapper .test-header[data-v-7ca84680]{background:#5f9fff;padding:12px 58px 24px}.test-wrapper .test-header .info[data-v-7ca84680]{display:flex;font-size:12px;line-height:14px;color:#000}.test-wrapper .test-header .info .class[data-v-7ca84680]{margin-left:30px}.test-wrapper .test-header .title[data-v-7ca84680]{font-weight:500;font-size:26px;line-height:30px;color:#000;margin-top:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.test-wrapper .test[data-v-7ca84680]{background-color:#fff;min-height:752px;padding:72px 120px}.test-wrapper .test .video .play-button[data-v-7ca84680]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.test-wrapper .test .video[data-v-7ca84680]{min-width:920px;min-height:520px;margin-bottom:40px}",""]),t.exports=e},289:function(t,e,n){"use strict";n.r(e);n(56),n(19),n(18),n(14),n(45);var r=n(20),o=(n(249),n(35),n(7)),c=(n(140),n(227)),l={name:"QuestionTest",components:{Button:c.a},props:{question:{type:Object,required:!0}},data:function(){return{selectedVariants:[]}},methods:{selectVariant:function(t){this.selectedVariants.some((function(e){return e===t}))?this.selectedVariants=this.selectedVariants.filter((function(e){return e!==t})):this.selectedVariants.push(t)},handleAnswer:function(){this.selectedVariants.length&&this.$emit("answer",this.selectedVariants)}}},d=(n(276),n(17)),f=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question"},[n("div",{staticClass:"title"},[t._v(t._s(t.question.question))]),t._v(" "),n("div",{staticClass:"answers flex flex-col space-y-4"},t._l(t.question.variants,(function(e){return n("div",{key:e.id,staticClass:"answer",class:{selected:t.selectedVariants.some((function(t){return t===e.id}))},on:{click:function(n){return t.selectVariant(e.id)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])})),0),t._v(" "),n("Button",{staticClass:"mt-8",on:{click:t.handleAnswer}},[t._v("Ответить")])],1)}),[],!1,null,"4361989f",null).exports,v=(n(278),{name:"QuestionCompliance",components:{Button:c.a},props:{question:{type:Object,required:!0}},data:function(){return{result:this.question.variants.left.reduce((function(t,i){return t[i.id]="",t}),{})}},methods:{handleAnswer:function(){Object.values(this.result).some((function(t){return!t}))||this.$emit("answer",this.result)}}}),h=(n(280),Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question"},[n("div",{staticClass:"title"},[t._v(t._s(t.question.question))]),t._v(" "),n("div",{staticClass:"flex space-x-20 w-full"},[n("div",{staticClass:"left flex flex-col space-y-6 w-full"},t._l(t.question.variants.left,(function(option){return n("div",{key:option.id,staticClass:"option"},[t._v("\n        "+t._s(option.title)+"\n      ")])})),0),t._v(" "),n("div",{staticClass:"right flex flex-col space-y-6 w-full"},t._l(t.question.variants.left,(function(option){return n("select",{directives:[{name:"model",rawName:"v-model",value:t.result[option.id],expression:"result[option.id]"}],key:option.id,staticClass:"select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.result,option.id,e.target.multiple?n:n[0])}}},[n("option",{attrs:{disabled:"",value:""}},[t._v("Выберите ответ")]),t._v(" "),t._l(t.question.variants.right,(function(i){return n("option",{key:i.id,domProps:{value:i.id}},[t._v("\n          "+t._s(i.title)+"\n        ")])}))],2)})),0)]),t._v(" "),n("Button",{staticClass:"mt-8",on:{click:t.handleAnswer}},[t._v("Ответить")])],1)}),[],!1,null,"7d5f1070",null).exports),m={name:"QuestionText",components:{Button:c.a},props:{question:{type:Object,required:!0}},data:function(){return{answer:""}},methods:{handleAnswer:function(){this.answer&&this.$emit("answer",this.answer)}}},w=(n(282),Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question"},[n("div",{staticClass:"title"},[t._v(t._s(t.question.question))]),t._v(" "),n("div",{staticClass:"answer"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{placeholder:"Ответ"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})]),t._v(" "),n("Button",{staticClass:"mt-8",on:{click:t.handleAnswer}},[t._v("Ответить")])],1)}),[],!1,null,"c1eca6ae",null).exports);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I={name:"TestPage",data:function(){return{testData:null,isPlaying:!1,currentTime:0,playingInterval:0,questionShown:null,questionTimeout:0,answers:{}}},computed:{player:function(){var t;return null===(t=this.$refs.ytPlayer)||void 0===t?void 0:t.player},playerVars:function(){var t,e,n,r;return{controls:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1,start:null!==(t=null===(e=this.testData)||void 0===e?void 0:e.video_start)&&void 0!==t?t:0,end:null!==(n=null===(r=this.testData)||void 0===r?void 0:r.video_end)&&void 0!==n?n:999999999}},questionComponent:function(){if(!this.questionShown)return null;switch(this.questionShown.question_type){case"test":return f;case"compliance":return h;case"text":return w;default:return null}}},watch:{currentTime:{handler:function(t){var e=this.testData.questions.find((function(e){return e.video_time===t}));e&&this.showQuestion(e)}}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTestData(t.$route.params.id);case 2:t.testData=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{getTestData:function(t){return this.$axios.$get("/test/get?id=".concat(t))},handleReady:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:return e.next=4,t.handlePlay();case 4:return e.next=6,t.player.seekTo(0);case 6:case"end":return e.stop()}}),e)})))()},handlePlay:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isPlaying){e.next=7;break}return t.isPlaying=!1,t.stopCurrentTimeUpdate(),e.next=5,t.player.pauseVideo();case 5:e.next=12;break;case 7:if(t.isPlaying||t.questionShown){e.next=12;break}return t.isPlaying=!0,e.next=11,t.player.playVideo();case 11:t.updateCurrentTime();case 12:case"end":return e.stop()}}),e)})))()},handleEnded:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopCurrentTimeUpdate(),n={user_id:t.$cookies.get("userID"),test_id:t.testData.id,answers:t.answers},e.next=4,t.$axios.$post("/test/answer",n);case 4:return e.next=6,t.$router.push({path:"/test/results",query:{user_id:t.$cookies.get("userID"),test_id:t.testData.id}});case 6:case"end":return e.stop()}}),e)})))()},updateCurrentTime:function(){var t=this;this.playingInterval=setInterval(Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.player.getCurrentTime();case 2:(n=e.sent)<=t.testData.video_end&&(t.currentTime=Math.trunc(n));case 4:case"end":return e.stop()}}),e)}))),1e3)},stopCurrentTimeUpdate:function(){clearInterval(this.playingInterval)},showQuestion:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.handlePlay();case 2:e.questionShown=t,e.questionTimeout=setTimeout((function(){e.setAnswer(null)}),1e3*t.time_limit);case 4:case"end":return n.stop()}}),n)})))()},setAnswer:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(e.questionTimeout),e.answers=y(y({},e.answers),{},Object(r.a)({},e.questionShown.question_id,t)),e.questionShown=null,n.next=5,e.handlePlay();case 5:case"end":return n.stop()}}),n)})))()}}},j=(n(284),Object(d.a)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.testData?r("div",{staticClass:"test-wrapper"},[r("div",{staticClass:"test-header"},[r("div",{staticClass:"info"},[r("div",{staticClass:"subject"},[t._v(t._s(t.testData.subject))]),t._v(" "),r("div",{staticClass:"class"},[t._v(t._s(t.testData.class)+" класс")])]),t._v(" "),r("div",{staticClass:"title"},[t._v(t._s(t.testData.title))])]),t._v(" "),r("div",{staticClass:"test"},[r("div",{staticClass:"video relative cursor-pointer",on:{click:t.handlePlay}},[t.isPlaying?t._e():r("img",{staticClass:"play-button",attrs:{src:n(248)}}),t._v(" "),r("div",{staticClass:"pointer-events-none",on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[r("youtube",{ref:"ytPlayer",attrs:{width:"920",height:"520","player-vars":t.playerVars,"video-id":t.testData.video_id},on:{ready:t.handleReady,ended:t.handleEnded}})],1)]),t._v(" "),t.questionShown?r("div",{staticClass:"question"},[r(t.questionComponent,{tag:"component",attrs:{question:t.questionShown},on:{answer:t.setAnswer}})],1):t._e()])]):t._e()}),[],!1,null,"7ca84680",null));e.default=j.exports}}]);